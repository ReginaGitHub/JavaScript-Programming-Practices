<!DOCTYPE html>

<!--
    Objectives:
        To conduct more practices to get more familiar with Javascript syntax
-->

<html>
  <head>
    <title>JS Demo</title>
  </head>

  <body>
    <p id="demo"></p>
    <button onclick="showExtra1()">Extra1!</button>
    <button onclick="showExtra2()">Extra2!</button>
    <button onclick="showExtra3()">Extra3!</button>
    <button onclick="showExtra4()">Extra4!</button>
    <button onclick="showExtra5()">Extra5!</button>
    <button onclick="showExtra6()">Extra6!</button>
    <button onclick="showExtra7()">Extra7!</button>
    <button onclick="showExtra8()">Extra8!</button>
    <button onclick="showExtra9()">Extra9!</button>
    <button onclick="showExtra10()">Extra10!</button>
    <button onclick="showExtra11()">Extra11!</button>

    <script>
      /* 1. Write a function that computes and prints out the area and circumference of a circle of a given radius. 
            The radius could be set to an int or float value. You can set the value of π to 3.14
            Note: Use Math.PI()
            
            Formulas:
            · Area of circle = π X radius2
            · Circumference of circle = π X 2 X radius 
            */
      function showExtra1() {
        // Add Code Here
        var radius = prompt("Provide a radius!");

        var area = (Math.PI * radius * radius).toFixed(2);
        var cir = (Math.PI * 2 * radius).toFixed(2);
        document.getElementById("demo").innerHTML =
          "Area: " + area + "<br/>Circumference: " + cir;
      }

      /* 2. Write a function that generates a random password of 8 characters
     For example, password -> cxqaptgh
     Note: use Math.random(), Math.floor()
*/
      function showExtra2() {
        // Add Code Here
        var str = "";
        var letters = "abcdefghijklmnopqrstuvwxyz";
        var i = 1;

        while (i <= 8) {
          str += letters[Math.floor(Math.random() * 26)];
          i++;
        }
        document.getElementById("demo").innerHTML =
          "Generated Password: " + str;
      }

      /* 3. In number theory, a perfect number is a positive integer that is 
     equal to the sum of all its factors excluding itself.  
     For example 6 is a perfect number because the sum of its factors i.e. 1 + 2 + 3 = 6

     Write a function that takes in a positive integer. The function should then check 
     if the number entered is a perfect number or not and print the result. 
     You can assume that only positive integers are entered.
     Some examples of perfect numbers are 6, 28, 496
*/
      function showExtra3() {
        // Add Code Here
        var num = prompt("Please provide a number!");
        var isPerfectNumber = true;
        var sum = Number(0);
        var factors = [];

        for (i = 1; i < Number(num); i++) {
          if (Number(num) % i == 0) {
            sum += Number(i);
            factors.push(i);
          }
        }

        console.log(factors);
        if (sum === Number(num)) {
          document.getElementById("demo").innerHTML =
            "Number '" + num + "' is a perfect number:<h1>Perfect Number!</h1>";
        } else {
          document.getElementById("demo").innerHTML =
            "Number '" +
            num +
            "' is not a perfect number:<h1>Not Perfect Number!</h1>";
        }
      }

      /* 4. Write a function that converts a given integer into a binary number
     For example, 10 -> 1010, 12 -> 1100
*/
      function showExtra4() {
        var num = prompt("Please provide an integer!");

        num = Number(num);
        if (isNaN(num) || !Number.isInteger(num)) {
          prompt("Please provide a valid integer!");
        }
        console.log(num.toString(2))
        document.getElementById("demo").innerHTML = num.toString(2);
      }

      /* 5. Write a function that requests the user’s name 
                    so that it displays back with the surname in capital letters 
                    and the rest of the name with first letter in uppercase. 
           
                    Assume the following:
                        a) Two adjacent words of the name is separated by 1 space
                        b) If the name has 1 word, it is the surname
                        c) If the name has 2 words, the second word is the surname
                        d) If the name has more than 2 words, the first word is always the surname

                For example, tan -> TAN, tan wee kiat -> TAN Wee Kiat, mary lim -> LIM Mary

                Hint: use toUpperCase(), charAt()
            */
            function showExtra5() {
                var name = prompt("Please provide your name!");
                var result = '';

                var arr = name.split(" ");

                if(arr.length == 1) {

                    result = arr.pop().toUpperCase();

                } else if(arr.length == 2) { 
                    // note: let is a var but only accessible with { }
                    let first_word = arr.pop().toUpperCase();
                    let second_word = arr[0][0].toUpperCase() + arr[0].substr(1);
                    result = first_word + " " + second_word;

                } else {
                    /* result = arr[0].toUpperCase();
                    let len = arr.length;
                    for (let i=1; i< len; i++) {
                        let word = arr[i];
                        result += " " + word[0].toUpperCase() + word.substr(1);
                    }  */
                     
                    // alternatively
                    result = arr.shift().toUpperCase();
                    while (arr.length) {
                        word = arr.shift();
                        result += " " + word[0].toUpperCase() + word.substr(1);
                    } 
                    
                }

                document.getElementById("demo").innerHTML = result;
            }

      /*  6. Write a function that asks the user to enter a string, 
                say txt, and two characters, say st and en. 
                The function then searches for a substring in txt such that 
                the substring begins with the character st and ends with the character en. 
                If there is no such substring, display the message "No such substring".

                Assume that the search is case-sensitive and only search for 
                the first occurrence of the substring

                Hint: explore indexOf, search(), includes()

                For example,
                    txt = Fibonacci series
                    st = F
                    en = b
                        ==> Substring [Fib] is found

                    txt = Fibonacci series
                    st = b
                    en = y
                        ==> No such substring

                    txt = Fibonacci series
                    st = F
                    en = F
                        ==> Substring [F] is found
            */
      function showExtra6() {
        // Add Code Here
        var txt = prompt("Enter a string");
        var st = prompt("Enter a st");
        var en = prompt("Enter en");

        var stSearch = txt.search(st);
        var enSearch = txt.search(en);

        if (stSearch != -1 && enSearch != -1 && enSearch > stSearch) {
          document.getElementById("demo").innerHTML =
            "Substring [" +
            txt.substring(stSearch, enSearch + 1) +
            "] is found";
        } else {
          document.getElementById("demo").innerHTML = "No such substring";
        }
      }

      /* 7. Write a function that asks the user to enter two strings, 
                say str1 and str2.
                The function displays "Bingo!" if every character in str1 
                also appears in str2. Otherwise, it displays "Nope :("

                For example, 
                    str1 = daily
                    str2 = Holiday
                        => Bingo!
                    
                    str1 = lily
                    str2 = Holiday
                        => Bingo!
                    
                    str1 = pokemon
                    str2 = pogo
                        => Nope :(
                Hint: explore includes()
            */
      function showExtra7() {
        // Add Code Here
        var str1 = prompt("Enter str1");
        var str2 = prompt("Enter str2");

        var bingo = true;
        for (i of str1) {
          if (!str2.includes(i)) {
            bingo = false;
          }
        }

        if (bingo) {
          document.getElementById("demo").innerHTML = "Bingo!";
        } else {
          document.getElementById("demo").innerHTML = "Nope :(";
        }
      }

      /* 8. Write a function that requests two integers, 
                say min and max. 
                The function then displays all the perfect squares 
                between min and max, inclusive. 

                For example, given min=10 and max=110, 
                it displays the perfect squares – 16 25 36 49 64 81 100.

                Check that the user provides only numbers.

                Hint: explore Math.sqrt(), Math.floor(), Math.ceil(), Math.pow()
            */
      function showExtra8() {
        // Add Code Here
        var min = prompt("Please enter a min number!");
        var max = prompt("Please enter a max number!");

        if (
          isNaN(min) ||
          isNaN(max) ||
          Number(min) % 1 != 0 ||
          Number(max) % 1 != 0
        ) {
          alert("You did not enter valid number!");
        } else {
          str = "<h1>";
          for (i = Number(min); i < Number(max); i++) {
            console.log(i);
            var num = Math.sqrt(i);
            if (num % 1 == 0) {
              str += i + " ";
            }
          }
          str += "</h1>";
        }
        document.getElementById("demo").innerHTML = "The result<br/>" + str;
      }

      /* 9. Write a function that gets a set of integer inputs from the user. 
                It should then display the minimum, maximum and median 
                of all numbers entered.
                Note: The median is the middle of list of numbers. 
                
                For example, median of numbers 12, 4, 5 is 5. 
                In case of odd amount of numbers, the median is the exact 
                middle number of numbers when arranged sorted. 
                In case of even amount of numbers, 
                we would get a pair of middle numbers. 
                The median is half way between them. 
                As an example, median of numbers 6, 12, 4, 10 is 8 (6 + 10) / 2 
                because when placed in order the middle numbers would be 6 and 10.

                Hint: explore split(), sort(), map()
            */
      function showExtra9() {
        // Add Code Here
        var validIntegers = prompt(
          "Please enter a set of integer numbers, each number separated by a space!"
        );
        var integersList = validIntegers.split(" ");
        var valid = true;
        for (i of integersList) {
          if (isNaN(i)) {
            alert("You entered an invalid integer");
            valid = false;
          }
        }
        if (valid) {
          integersList = integersList.sort((a, b) => a - b);
          var min = integersList[0];
          var max = integersList[integersList.length - 1];
          var median = integersList[Math.floor(integersList.length / 2)];

          document.getElementById(
            "demo"
          ).innerHTML = `The result:<br/> <h1>Numbers:${integersList}</h1><h1>Min:${min}</h1><h1>Max:${max}</h1><h1>Median:${median}</h1>`;
          console.log(median);
        }
      }

      /* 10. Write a function that merges two arrays of objects, representing persons. 
                   Each person object has name and age properties.
                    For example, name="John", age=29
                  
                    The function merges the two arrays into a single array in which 
                    the persons are ordered by their age.

                    Note: Create your own arrays of objects in the function. Assume that names are unique
                    Hint: explore concat()
            */
      function showExtra10() {
        var persons1 = [
          { name: "John", age: 29 },
          { name: "Jesper", age: 21 },
          { name: "Jack", age: 40 },
        ];
        var persons2 = [
          { name: "Mary", age: 23 },
          { name: "Jennifer", age: 32 },
        ];

        // Add Code Here
        for (i of persons2) {
          persons1.push(i);
        }

        persons1.sort((a, b) => a.age - b.age);
        var str = "";
        for (i of persons1) {
          str += "Name: " + i.name + "; Age: " + i.age + "<br/>";
        }
        document.getElementById("demo").innerHTML = str;
        //    items.sort((a, b) => a.value - b.value);
      }

      /* 11. Write a function that computes the total amount to be paid, 
                    based on an array of purchase items.
                    A purchase item is an object, having name and price properties.
                    For example, name="pencil", price=1.25
                
                    Note: Create your own arrays of objects in the function. 
            */
      function showExtra11() {
        // Add Code Here
        var purchaseObj = [
          { name: "pencil", price: 1.25 },
          { name: "wallet", price: 5.55 },
          { name: "Earphones", price: 7.2 },
        ];
        var totalPrice = 0;
        for (i of purchaseObj) {
          totalPrice += i.price;
        }
        document.getElementById("demo").innerHTML = totalPrice;
      }
    </script>
  </body>
</html>
